%% 以下为范例
%% 创建表1 (默认为分片表, disc_only_copies)
%%{create_table, hjx_table, [age, money], "create table"}.
%% 创建表2 (默认为分片表, ram_copies)
%%{create_table, ram_table, [username, sex], [], "create table"}.
%% 删除表
%%{delete_table, hjx_table, "delete table"}.
%% 增加表字段
%%{add_table_fields, player_table, [{name, aaa}, {age, 19}, {money, 20}, {weight, 33}], "add field"}.
%% 删除表字段
%%{remove_table_field, player_table, age, "remove field"}.
%%{remove_table_fields, player_table, [name, money, weight], "remove field"}.
%% 重命名表字段
%%{rename_table_field, player_table, {pet, mypet}, "rename field"}.
%%{rename_table_fields, player_table, [{pet, mypet}, {bag, mybag}], "rename field"}.
%% 插入数据
%%{insert_data, player_table, [{hjx, man, hahaer, bag}, {llc, girl, a, b}], "insert data"}.
%% 删除数据
%%{delete_data, player_table, [hjx], "delete data"}.
%% 清除表中的所有记录
%%{clear_tables, [table1, table2, ...], "clear tables"}.
%% 加索引字段
%%{add_table_index, table, need_index_field, "add table index"}.
%% 去掉索引字段
%%{del_table_index, table, del_index_field, "del table index"}.
%% 改变表格存储形态
%%{change_table_copy_type, table, NewType, "change table copy type"}.
%% 特殊模块调用
%%{module_fun, my_module, my_function, [arg1, arg2], "create player data"} 
%% 激活分片表
%%{active_table_frag, [table1, table2, ...], "active table1, table2"}
%% 改变分片hash算法
%%{change_frag_hash, new_frag_hash, "change frag hash"}


{create_table, player_basic_data, [account, username, sex, skin_color, hair, face, beard], "create basic_data table"}.
{create_table, house_data, [owner, instance_id, template_id, furniture_vec, component_tex_vec, component_mesh_vec], "create house_data table"}.
{create_table, player_pack, [owner, grid_vec], "create player_pack table"}.
{create_table, player_body, [owner, grid_vec], "create player_body table"}.
{create_table, player_friends, [owner, friend_vec], "create player_friends table"}.
{add_table_fields, player_basic_data, [{age, 0}, {level, 0}, {online_time, 0}, {personality_sign, ""}, {personality_describe, ""}], "add fields [age, level, online_time, personality_sign, personality_describe]"}.
{create_table, player_property, [account, player_clean, player_health, player_charm, active_value, furniture_clean], "create table player_property"}.
{create_table, player_coin, [account, gamecoin, eqcoin], "create table player_coin"}.
{add_table_fields, house_data, [{furniture_permission, 0}], "add field furniture_permission"}.
{create_table, player_task, [id, account, task_id, step_index, track, status], "create player_task table"}.
{create_table, player_farm, [account, exp, decoration, pet, crops, money, fop_grass, fop_pest, foc_grass, foc_pest], [{mem_disc, []}], "create table player_farm"}.
{add_table_fields, player_task, [{create_date, ""}], "add fields create_date"}.
{add_table_fields, player_friends, [{be_friend_vec, []}], "player_friends add fields be_friend_vec"}.
{create_table, player_farm_log, [account, farm_log_message, farm_log_gain, farm_log_consumption], "create table player_farm_log table"}.
{create_table, player_farm_comment, [account, comment], "create table player_farm_comment"}.
{add_table_fields, house_data, [{room_tex_vec, []}], "house_data add field room_tex_vec"}.
{create_table, farm_depot, [account, grids], "create table farm_depot"}.
{create_table, farm_setting, [account, water, weed, worm, put_grass, put_pest], "create table farm_setting"}.
{add_table_fields, player_basic_data, [{health_status, 1}], "add fields [health_status]"}.
{create_table, player_mail, [id, reciever, send_time, sender, type, title, content, items, is_new], [{index, [reciever]}], "create player mail table"}.
{rename_table_field, player_mail, {is_new, read_status}, "player_mail rename is_new to read_status"}.
{add_table_index, player_basic_data, username, "add player_basic_data table index username"}.
{add_table_fields, player_mail, [{sender_name, ""}, {recver_name, ""}], "add fields sender_name, recver_name"}.
{change_table_copy_type, player_mail, disc_only_copies, "change table player_mail to disc only copies"}.
{create_table, player_depot, [account, money, pack], "create table player_depot"}.
{add_table_fields, player_basic_data, [{hair_color, 1}], "table player_basic_data add fields hair_color "}.
{create_table, house, [house_name, create_date], "create house table"}.
{add_table_fields, house_data, [{welcome_words, ""}, {house_permission, 0}, {visit_log, []}, {buy_date, ""}], "add field welcome_words, house_permission, visit_log, buy_date"}.
{active_table_frag, [player_basic_data, house_data, player_pack, player_body, player_friends, player_property, player_coin, player_task, player_farm, player_farm_log, player_farm_comment, farm_depot, farm_setting, player_mail, player_depot, house], "active all table frag"}.
{delete_table, online_player, "delete table online_player"}.
{delete_table, scene, "delete table scene"}.
{create_table, online_player, [account, login_date], [], "create online_player table"}.
{create_table, scene, [scene_name, create_date], [], "create scene table"}.
{create_table, dbrouter, [msg, handler], [], "create dbrouter table"}.
{delete_table, house, "delete table house"}.
{add_table_fields, house_data, [{level, 1}], "add field level to house_data"}.
{clear_tables, [farm_depot, farm_setting, player_farm, player_farm_comment, player_farm_log], "clear farm tables"}.
{add_table_index, player_task, task_id, "add player_task table index task_id"}.
{delete_table, player_friends, "delete table player_friends"}.
{create_table, player_friends, [owner, friend], [{index, [friend]}, {type, bag}], "recreate player_friends table, type is bag"}.
{change_table_copy_type, player_friends, disc_only_copies, "change table player_friends to disc only copies"}.
{create_table, player_gift, [account, send_box, send_box_vec, receive_box_vec, send_express_vec, receive_express_vec, viewed_express_vec], "create player_gift table"}.
{add_table_fields, house_data, [{gift_box_vec, []}], "add fields [gift_box_vec]"}.
{add_table_fields, player_gift, [{vieded_box_vec, []}], "add fields [vieded_box_vec]"}.
{add_table_fields, player_gift, [{subscribe_express_vec, []}], "add fields [subscribe_express_vec]"}.
{create_table, sys_broadcast, [id, type, content, start_time, play_times], "create table sys_broadcast"}.
{add_table_fields, sys_broadcast, [{priority, 1}], "add fields [priority]"}.
{delete_table, player_task, "delete table player_task"}.
{create_table, task, [account, active_list, cancel_list, complete_list], "create table task"}.
{add_table_fields, task, [{active_chain_list, []}, {cancel_chain_list, []}, {complete_chain_list, []}], "add fields [active_chain_list, cancel_chain_list, complete_chain_list]"}.
{create_table, sys_msg, [account, msgs], "create table sys_msg"}.
{create_table, item_money_log, [account, datetime, action, item_info, money_info, target], [{type, bag}], "create table item_money_log"}.
{change_table_copy_type, item_money_log, disc_only_copies, "change table item_money_log to disc only copies"}.
{add_table_fields, online_player, [{login_node, []}], "add fields [login_node]"}.
{add_table_fields, player_basic_data, [{last_login_time, {stime, 0, 0, 0, 0, 0, 0}}], "add fields [last_login_time]"}.
{change_frag_hash, eq_frag_hash, "change frag hash to eq_frag_hash"}.
{add_table_fields, item_money_log, [{tag_id, 0}], "item_money_log add fields [tag_id]"}.
{create_table, house_plot, [account, plots], "create table house_plot"}.
{module_fun, update_house, update, [], "update house_data"}.
{module_fun, update_house, update_position_list, [], "update position list"}.
{module_fun, update_house, update_position_list, [], "update position list"}.
{module_fun, update_house_plot, update, [], "update house plot"}.
{create_table, friend_setting, [account, accept_invite, black_list], "create friend_setting table"}.
{create_table, offline_invite, [account, invite_type, invitor], "create offline_invite table"}.
{delete_table, offline_invite, "delete table offline_invite"}.
{create_table, offline_invite, [account, invite_list], "create offline_invite table"}.
{add_table_fields, house_data, [{magic_box_vec, []}], "add fields [magic_box_vec]"}.
{create_table, player_magic_box, [account, date, pick_box_count], [], "create player_magic_box"}.
{create_table, house_magic_box, [house_id, date, guests, box_times], [], "create house_magic_box"}.
{add_table_fields, player_magic_box, [{generate_box_count, 0}], "add field generate_box_count "}.
{remove_table_field, house_magic_box, box_times, "remove house_magic_box field box_times"}.
{change_table_copy_type, player_magic_box, disc_only_copies, "change table player_magic_box to disc only copies"}.
{change_table_copy_type, house_magic_box, disc_only_copies, "change table house_magic_box to disc only copies"}.
{module_fun, update_house, clear_magic_box, [], "clear_magic_box"}.
{module_fun, update_house, clear_magic_box, [], "clear_magic_box"}.
{create_table, farm_task, [account, active_list, cancel_list, complete_list], "create table farm_task"}.
{create_table, house_rand_garbage, [house_id, close_time, rand_id, rand_start_time], "create table house_rand_garbage"}.
{module_fun, update_farm_task, update, [], "update_farm_task"}.
{add_table_fields, house_data, [{house_clean, 100}], "add field house_clean"}.
{module_fun, update_house, add_house_clean, [], "add field house_clean"}.
{remove_table_field, player_property, furniture_clean, "remove furniture_clean field"}.
{module_fun, update_player_property, update, [], "update player property"}.
{module_fun, update_house, clear_house_log, [], "clear house log"}.
{create_table, player_weibo, [account, tx_access_key, tx_access_secret, sina_access_key, sina_access_secret], "create table player_weibo"}.
{module_fun, update_house, clear_house_log, [], "clear house log"}.
{module_fun, update_house, update_gift_pos, [], "update gift pos, convert float to int"}.
{create_table, game_info_gather, [key, val], "create table game_info_gather"}.
{create_table, float_bottle, [id, datetime, type, sex, account, account_visible, msg], "create table float_bottle"}.
{create_table, player_bottle_log, [account, pick_list, drop_list], "create table player_bottle_log"}.
{create_table, player_bottle_info, [account, today, pick_count, drop_count], "create table player_bottle_info"}.
{create_table, player_wallow, [account, start_time, last_online_time], "create table player_wallow"}.
{module_fun, db_update_wallow, start, [], "init old player wallow data"}.
{add_table_fields, player_wallow, [{login_time, []}, {ref_list, []}], "player_wallow add field login_time, ref_list"}.
{add_table_fields, float_bottle, [{is_gm, false}], "float_bottle add field is_gm"}.
{clear_tables, [player_wallow], "clear table player_wallow"}.
{change_table_copy_type, player_coin, mem_disc, "change player_coin copy type"}.
{module_fun, db_update_item_money_log, convert_bag_to_set, [], "item_money_log convert_bag_to_set"}.
{module_fun, update_house, update_room_tex, [], "update_house update_room_tex"}.
{add_table_fields, player_basic_data, [{gm_enabled, disable}], "add field"}.
{remove_table_field, player_basic_data, gm_enabled, "remove field"}.
{add_table_fields, player_basic_data, [{gm_enabled, 2}], "add field"}.
{clear_tables, [player_friends], "clear table player_friends"}.
{create_table, player_flower_log, [account, date, logs], "create table player_flower_log"}.
{create_table, player_egg_log, [account, date, logs], "create table player_egg_log"}.
{create_table, player_flower, [account, flower], "create table player_flower"}.
{module_fun, db_update_item_20110919, add_decoration_field, [], "add_decoration_field"}.
{create_table, player_decoration, [account, decoration], "create table player_decoration"}.
{create_table, player_visit_friends_log, [account, date, logs], "create table player_visit_friend_log"}.
{delete_table, player_flower_log, "delete table player_flower_log"}.
{delete_table, player_egg_log, "delete table player_egg_log"}.
{create_table, player_flower_egg_log, [account, date, logs], "create table player_flower_egg_log"}.
{add_table_fields, player_basic_data, [{logout_time, {stime, 0, 0, 0, 0, 0, 0}}], "add fields [logout_time]"}.
{module_fun, db_update_item_20110919, add_decoration_field2, [], "add_decoration_field update house_data"}.
{module_fun, db_update_item_20110919, fix_array_default_val, [], "fix_array_default_val update item"}.

{module_fun, db_update_task_20111014, clear_newer_task, [], "clear_newer_task"}. %% 清除新手任务
{module_fun, db_update_task_20111012, add_task_action_field, [], "add_task_action_field"}. 
{add_table_fields, task, [{daily_info, []}], "add task fields [daily_info]"}. %% 增加用来记录每日任务的信息
{module_fun, db_update_task_20111012, add_farm_task_action_field, [], "add_farm_task_action_field"}. 
{module_fun, db_update_task_20111017, clear_test_task, [], "clear_test_task"}. 
{module_fun, db_update_fix_bag, fix_bag, [], "fix bag"}.  %% 修复背包




